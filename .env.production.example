# Production environment template
# Copy to .env and fill in values. Never commit .env to source control.
#
# Generate JWT keys: make setup-keys
# Encode for env: make setup-env (or use base64 manually)

# JWT (required) - ML-DSA post-quantum signing
JWT_MLDSA_JWK=<base64-encoded-full-JWK-from-jwt-keys/mldsa_jwk_base64.txt>

# Issuer URL - must match your public HTTPS URL (e.g. https://app.example.com)
JWT_ISSUER_URL=https://yourdomain.com

# --- Internal services (when NOT using docker-compose.external-services.yml) ---
# Database password (use a strong, unique password)
POSTGRES_PASSWORD=<strong-password>

# MongoDB root password
MONGO_INITDB_ROOT_PASSWORD=<strong-password>

# RabbitMQ default user password
RABBITMQ_DEFAULT_PASS=<strong-password>

# --- External services (when using docker-compose.external-services.yml) ---
# Use managed PostgreSQL, MongoDB, RabbitMQ instead of internal containers.
# POSTGRES_CONNECTION_STRING=Host=myserver.postgres.database.azure.com;Port=5432;Database=BoilerPlateAuth;Username=myuser;Password=xxx;Ssl Mode=Require
# MongoDB connection(s). Use one for both, or separate for audit vs event logs:
# MONGODB_CONNECTION_STRING=mongodb+srv://user:pass@cluster.mongodb.net/logs?retryWrites=true&w=majority
# AUDIT_LOGS_MONGODB_CONNECTION_STRING=mongodb+srv://... (optional, defaults to MONGODB_CONNECTION_STRING)
# EVENT_LOGS_MONGODB_CONNECTION_STRING=mongodb+srv://... (optional, defaults to MONGODB_CONNECTION_STRING)
# RABBITMQ_CONNECTION_STRING=amqps://user:pass@host.cloudamqp.com/vhost

# Admin user (first login)
ADMIN_USERNAME=admin
ADMIN_PASSWORD=<strong-password>

# TLS certificate paths (optional - defaults to ./tls-certs/)
# TLS_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# TLS_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem

# HTTPS port (default 443)
# HTTPS_PORT=443

# --- LDAP Server (BoilerPlate.Authentication.LdapServer.Host) ---
# LDAP port (default 389, 0 to disable)
# LDAP_PORT=389
# LDAPS port (default 636, 0 to disable). Requires LDAP_CERTIFICATE_PATH.
# LDAP_SECURE_PORT=636
# Base DN (e.g. dc=boilerplate,dc=local)
# LDAP_BASE_DN=dc=boilerplate,dc=local
# Default tenant when bind DN does not specify ou=<tenant-id>
# LDAP_DEFAULT_TENANT_ID=<tenant-guid>
# Path to PFX/PEM certificate for LDAPS
# LDAP_CERTIFICATE_PATH=/path/to/cert.pfx
# LDAP_CERTIFICATE_PASSWORD=<cert-password>
